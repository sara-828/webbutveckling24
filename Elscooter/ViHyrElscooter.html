<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="elscooter.css">
    <title>Document</title>
</head>
<body>
    <header id="header">
        
    </header>

    <div id="hero">
    <h1>Vi Hyr Dig en elScooter</h1>
    <h2 id="welcome"></h2>
    
    <div id="box">
        <p> Hyr en elscooter</p>
        <p id="texta"></p> 
        <p id="tid"></p>
    </div>
    </div>
   

    <button id="hyr">Hyr</button>

    <p id="info"></p>

    <div>
    <p>Boka en elscooter</p>
    <input type="datetime-local" id="boka"> 
    <br>
    <button id="bokabtn">Boka</button>
    <p id="infoboka"> </p>

    </div>

    <script>

        const params = new URLSearchParams(window.location.search);
        const text = document.getElementById("welcome");
        let username = params.get('username');
        if(username){
            text.textContent = `V채lkommen ${username}!`;
        } 
        //H채mtar element
        const hyr = document.getElementById('hyr');
        const texta = document.getElementById('texta');
        const info = document.getElementById('info');

        let idag = new Date().toLocaleDateString(); // H채mtar dagens datum
        let klockslag = new Date().toLocaleTimeString(); // H채mtar tiden
        let timerId = null;
        let hyrt = true;
        let sekunder = 0;
        let tid = document.getElementById('tid');
        const header = document.getElementById('header');

        hyr.addEventListener('click', function(event){

            header.classList.toggle('stil');
            
            texta.textContent = "datum av uthyrning " + idag + " klockan " +  klockslag;
             hyr.textContent = "Sluta hyra";
            

            if (hyrt) {

                hyrt = false;
                timerId = setInterval(function () { //Startar en timer
                    sekunder ++;
                    tid.textContent = sekunder;

                }, 1000);
            } else {
                clearInterval(timerId);
                hyrt = true;
                hyr.textContent = "Hyr";
                
                info.textContent = `Info om uthyrning

                Datum: ${idag}
                Klockslag: ${klockslag} 
                Tid: ${sekunder}
                
                Kostnad: ${sekunder *1+50} kr`
                
                sekunder = 0;

            }

        })

        const boka = document.getElementById('boka').value;
        const bokabtn = document.getElementById('bokabtn');
        let infoboka = document.getElementById('infoboka');

        const aaa = new Date(boka);

        bokabtn.addEventListener('click', function(event){
            infoboka.textContent = `Du har bokat    ${aaa}`; /* + ${boka}  */

        })


    </script>
    
</body>
</html>