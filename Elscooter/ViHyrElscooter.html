<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="elscooter.css">
    <title>Document</title>
</head>
<body>
    <header id="header">
        
    </header>

    
    <h1>Vi Hyr Dig en elScooter</h1>
    <h2 id="welcome"></h2>
    
    <div id="box">
        <p> Hyr en elscooter</p>
        <p id="texta"></p> 
        <p id="tid"></p>
    </div>
   

    <button id="hyr">Hyr</button>

    <div class="b">

    <p id="info"></p>
    </div>

    <div>
    <p>Boka en elscooter</p>
    <input type="datetime-local" id="boka"> 
    <br>
    <button id="bokabtn">Boka</button>
    <div clas="b">
    <p id="infoboka"> </p>
    </div>

    </div>

    <script>
        // tar ut URlen 
        const params = new URLSearchParams(window.location.search);
        const text = document.getElementById("welcome");
        let username = params.get('username');
        if(username){
            text.textContent = `Välkommen ${username}!`;
        } 
        //Hämtar element
        const hyr = document.getElementById('hyr');
        const texta = document.getElementById('texta');
        const info = document.getElementById('info');

        let idag = new Date().toLocaleDateString(); // Hämtar dagens datum
        let klockslag = new Date().toLocaleTimeString(); // Hämtar tiden
        let timerId = null;
        let hyrt = true;
        let sekunder = 0;
        let tid = document.getElementById('tid');
        let toggle = false;
        const header = document.getElementById('header');

        hyr.addEventListener('click', function(event){ //lägger till en händelselyssnare som körs när click sker

            header.classList.toggle('style');
            
            texta.textContent = "datum av uthyrning " + idag + " klockan " +  klockslag;
             hyr.textContent = "Sluta hyra";
            

            if (hyrt) {

                hyrt = false;
                timerId = setInterval(function () { //Startar en timer
                    sekunder ++;
                    tid.textContent = sekunder;

                }, 1000);
            } else {
                clearInterval(timerId);
                hyrt = true;
                hyr.textContent = "Hyr";
                if(!toggle){
                     info.classList.toggle('infostyle');
                     toggle = true;

                }

               
                
                info.textContent = `Information om uthyrning

                Datum: ${idag}
                Klockslag: ${klockslag} 
                Tid: ${sekunder}
                

                Kostnad: ${sekunder *1+50} kr`
                
                sekunder = 0;

            }

        })

        
        const bokabtn = document.getElementById('bokabtn');
        let infoboka = document.getElementById('infoboka');

       

        bokabtn.addEventListener('click', function(event){
            const boka = document.getElementById('boka').value;
            infoboka.textContent = `Du har bokat    ${boka}`; 

        })


    </script>
    
</body>
</html>